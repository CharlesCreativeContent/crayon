import{j as o}from"./jsx-runtime-DR9Q75dM.js";import{r as c,R as y}from"./index-DRjF_FHU.js";import{i as he}from"./tiny-invariant-CopsF_GD.js";/* empty css               *//* empty css                   */import{c as m}from"./clsx-B-dksMZM.js";import{I as C}from"./IconButton-D6G_v-I0.js";import{c as I}from"./createLucideIcon-CVKaca6J.js";import{P as F}from"./plus-1TuLe9OZ.js";import{B as Ae}from"./Button-Dfg0yeFE.js";import{A as ue}from"./arrow-right-Dg-zd4-N.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=I("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=I("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=I("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),P=c.createContext(null),S=()=>{const t=c.useContext(P);return he(t),t},N=t=>{let e;const s=new Set,r=(A,f)=>{const p=typeof A=="function"?A(e):A;if(!Object.is(p,e)){const u=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),s.forEach(g=>g(e,u))}},n=()=>e,d={setState:r,getState:n,getInitialState:()=>h,subscribe:A=>(s.add(A),()=>s.delete(A))},h=e=t(r,n,d);return d},w=t=>t?N(t):N,ye=t=>t;function l(t,e=ye){const s=y.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return y.useDebugValue(s),s}const j=t=>{const e=w(t),s=r=>l(e,r);return Object.assign(s,e),s},be=t=>t?j(t):j,Se=t=>{const e=c.useRef(t);e.current=t;const[s]=c.useState(()=>w(()=>({threads:e.current.threads,isLoading:e.current.isLoading,error:e.current.error,selectedThreadId:e.current.selectedThreadId,switchToNewThread:()=>e.current.switchToNewThread(),load:()=>e.current.load(),updateThread:(...r)=>e.current.updateThread(...r),deleteThread:(...r)=>e.current.deleteThread(...r),selectThread:(...r)=>e.current.selectThread(...r),loadMore:()=>e.current.loadMore()})));return c.useEffect(()=>{s.setState({threads:t.threads,isLoading:t.isLoading,error:t.error,selectedThreadId:t.selectedThreadId})}),s},Te=t=>{const e=c.useRef(t);e.current=t;const[s]=c.useState(()=>be(()=>({isRunning:t.isRunning,messages:t.messages,error:t.error,responseTemplates:e.current.responseTemplates,onCancel:()=>{var r,n;return(n=(r=e.current).onCancel)==null?void 0:n.call(r)},processMessage:(...r)=>e.current.processMessage(...r),updateMessage:(...r)=>e.current.updateMessage(...r),appendMessages:(...r)=>e.current.appendMessages(...r),setMessages:(...r)=>e.current.setMessages(...r)})));if(c.useEffect(()=>{s.setState({isRunning:t.isRunning,messages:t.messages,error:t.error})},[t.isRunning,t.messages,t.error]),e.current.responseTemplates!==t.responseTemplates)throw new Error("memoize response templates");return s},W=({threadManager:t,threadListManager:e,children:s})=>{const r=Te(t),n=Se(e),a=c.useMemo(()=>({threadListManager:n,threadManager:r}),[n,r]);return o.jsx(P.Provider,{value:a,children:s})};W.__docgenInfo={description:`@category Components

@remarks
ChatProvider is a React component that provides chat management context to its children.
It serves as the top-level provider for thread and thread list management functionality.

@example
\`\`\`tsx
<ChatProvider
  threadManager={myThreadManager}
  threadListManager={myThreadListManager}
>
  <App />
</ChatProvider>
\`\`\`

@param props - The component props
@param props.threadManager - The thread manager instance for handling individual chat threads
@param props.threadListManager - The thread list manager instance for handling multiple chat threads
@param props.children - The child components that will have access to the chat context
@returns A ChatContext.Provider wrapping the children components`,methods:[],displayName:"ChatProvider"};const xe=()=>{const{threadManager:t}=S();return{processMessage:l(t,e=>e.processMessage),appendMessages:l(t,e=>e.appendMessages),updateMessage:l(t,e=>e.updateMessage),setMessages:l(t,e=>e.setMessages),onCancel:l(t,e=>e.onCancel)}},M=()=>{const{threadListManager:t}=S();return{load:l(t,e=>e.load),switchToNewThread:l(t,e=>e.switchToNewThread),selectThread:l(t,e=>e.selectThread),deleteThread:l(t,e=>e.deleteThread),updateThread:l(t,e=>e.updateThread),loadMore:l(t,e=>e.loadMore)}},q=()=>{const{threadListManager:t}=S();return{isLoading:l(t,e=>e.isLoading),threads:l(t,e=>e.threads),error:l(t,e=>e.error),selectedThreadId:l(t,e=>e.selectedThreadId)}},U=t=>Symbol.iterator in t,Q=t=>"entries"in t,E=(t,e)=>{const s=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(s.size!==r.size)return!1;for(const[n,a]of s)if(!Object.is(a,r.get(n)))return!1;return!0},Ce=(t,e)=>{const s=t[Symbol.iterator](),r=e[Symbol.iterator]();let n=s.next(),a=r.next();for(;!n.done&&!a.done;){if(!Object.is(n.value,a.value))return!1;n=s.next(),a=r.next()}return!!n.done&&!!a.done};function Ie(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:!U(t)||!U(e)?E({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)}):Q(t)&&Q(e)?E(t,e):Ce(t,e)}function we(t){const e=y.useRef();return s=>{const r=t(s);return Ie(e.current,r)?e.current:e.current=r}}const Me=t=>{const{threadManager:e}=S();return l(e,we(t))},R=()=>{const{threadManager:t}=S();return{isRunning:l(t,e=>e.isRunning),messages:l(t,e=>e.messages),error:l(t,e=>e.error),responseTemplates:l(t,e=>e.responseTemplates)}},Re=t=>{const e=c.useRef(t);e.current=t;const s=c.useMemo(()=>w(r=>{const n=(a,i)=>{r(d=>({threads:d.threads.map(h=>h.threadId!==a?h:{...h,isRunning:i})}))};return{selectedThreadId:null,threads:[],error:null,isLoading:!0,selectThread:a=>{r({selectedThreadId:a}),e.current.onSelectThread(a)},loadMore:()=>{},load:()=>{r({isLoading:!0}),e.current.fetchThreadList().then(a=>{r({isLoading:!1,threads:a})}).catch(a=>{r({isLoading:!1,error:a})})},deleteThread:a=>{n(a,!0),e.current.deleteThread(a).then(()=>{r(i=>({threads:i.threads.filter(d=>d.threadId!==a)}))}).catch(()=>{n(a,!1)})},updateThread:a=>{n(a.threadId,!0),e.current.updateThread(a).then(i=>r(d=>({threads:d.threads.map(h=>h.threadId===i.threadId?i:h)}))).catch(()=>{n(a.threadId,!1)})},switchToNewThread:()=>{r({selectedThreadId:null}),e.current.onSwitchToNew()}}}),[]);return l(s)},Ne=t=>{const e=c.useRef(t);e.current=t;const s=c.useMemo(()=>w(r=>({messages:[],error:null,abortController:null,isRunning:!1,setMessages:n=>{r({messages:n})},appendMessages:(...n)=>{r({messages:[...s.getState().messages,...n]})},processMessage:async n=>{const a=new AbortController;if(!s.getState().isRunning){r({abortController:a,isRunning:!0}),a.signal.addEventListener("abort",()=>{r({abortController:null,isRunning:!1})});try{const d=await e.current.onProcessMessage({message:n,threadManager:s.getState(),abortController:new AbortController});s.getState().appendMessages(...d)}finally{r({abortController:null,isRunning:!1})}}},updateMessage:n=>{const a=s.getState().messages.map(i=>i.id===n.id?n:i);r({messages:a})},onCancel:()=>{const n=s.getState().abortController;n&&n.abort()},responseTemplates:e.current.responseTemplates.reduce((n,a)=>(n[a.name]=a,n),{})})),[e]);return c.useEffect(()=>{const r=t.threadId;if(s.getState().onCancel(),s.setState({messages:[]}),r){const n=new AbortController;s.setState({abortController:n,isRunning:!0}),t.loadThread(r).then(a=>{s.setState({messages:a})}).catch(a=>{s.setState({error:a})}).finally(()=>{s.setState({abortController:null,isRunning:!1})})}},[t.threadId]),l(s)},_=c.createContext(null),V=({children:t,isTray:e,isFullScreen:s,isMobile:r})=>{const n=c.useMemo(()=>({isMobile:r,isFullScreen:s,isTray:e}),[r,s,e]);return o.jsx(_.Provider,{value:n,children:t})},je=()=>c.useContext(_);V.__docgenInfo={description:"",methods:[],displayName:"LayoutContextProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isTray:{required:!0,tsType:{name:"boolean"},description:""},isFullScreen:{required:!0,tsType:{name:"boolean"},description:""},isMobile:{required:!0,tsType:{name:"boolean"},description:""}}};const Ue=({ref:t})=>{const[e,s]=c.useState({width:0,height:0});return c.useEffect(()=>{if(!t.current)return;const r=t.current,n=()=>{s({width:r.clientWidth,height:r.clientHeight})},a=new ResizeObserver(n);return a.observe(r),n(),()=>{a.disconnect()}},[t]),e},B=t=>{let e;const s=new Set,r=(A,f)=>{const p=typeof A=="function"?A(e):A;if(!Object.is(p,e)){const u=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),s.forEach(g=>g(e,u))}},n=()=>e,d={setState:r,getState:n,getInitialState:()=>h,subscribe:A=>(s.add(A),()=>s.delete(A))},h=e=t(r,n,d);return d},Qe=t=>t?B(t):B,Ee=t=>t;function Be(t,e=Ee){const s=y.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return y.useDebugValue(s),s}const L=t=>{const e=Qe(t),s=r=>Be(e,r);return Object.assign(s,e),s},Le=t=>t?L(t):L,D=t=>Symbol.iterator in t,O=t=>"entries"in t,v=(t,e)=>{const s=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(s.size!==r.size)return!1;for(const[n,a]of s)if(!Object.is(a,r.get(n)))return!1;return!0},De=(t,e)=>{const s=t[Symbol.iterator](),r=e[Symbol.iterator]();let n=s.next(),a=r.next();for(;!n.done&&!a.done;){if(!Object.is(n.value,a.value))return!1;n=s.next(),a=r.next()}return!!n.done&&!!a.done};function Oe(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:!D(t)||!D(e)?v({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)}):O(t)&&O(e)?v(t,e):De(t,e)}function ve(t){const e=y.useRef();return s=>{const r=t(s);return Oe(e.current,r)?e.current:e.current=r}}const Ye=()=>Le(t=>({isSidebarOpen:!0,agentName:"",logoUrl:"",setIsSidebarOpen:e=>t({isSidebarOpen:e}),setAgentName:e=>t({agentName:e}),setLogoUrl:e=>t({logoUrl:e})})),H=c.createContext(null),T=t=>{const e=c.useContext(H);if(!e)throw new Error("useShellStore must be used within ShellStoreProvider");return e(ve(t))},X=({children:t,agentName:e,logoUrl:s})=>{const r=c.useMemo(()=>Ye(),[]);return c.useEffect(()=>{const{setAgentName:n,setLogoUrl:a}=r.getState();n(e),a(s)},[e,s]),o.jsx(H.Provider,{value:r,children:t})};X.__docgenInfo={description:"",methods:[],displayName:"ShellStoreProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},logoUrl:{required:!0,tsType:{name:"string"},description:""},agentName:{required:!0,tsType:{name:"string"},description:""}}};const G=({children:t,logoUrl:e,agentName:s})=>{const r=c.useRef(null),{width:n}=Ue({ref:r})||{},a=n>0&&n<768,i=n>768;return o.jsx(X,{logoUrl:e,agentName:s,children:o.jsx(V,{isTray:!1,isFullScreen:i,isMobile:a,children:o.jsx("div",{className:m("crayon-shell-container",{"crayon-shell-container--mobile":a}),ref:r,children:t})})})};G.__docgenInfo={description:"",methods:[],displayName:"Container",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},logoUrl:{required:!0,tsType:{name:"string"},description:""},agentName:{required:!0,tsType:{name:"string"},description:""}}};const Z=()=>{const{switchToNewThread:t}=M(),{logoUrl:e,agentName:s,setIsSidebarOpen:r}=T(n=>({logoUrl:n.logoUrl,agentName:n.agentName,setIsSidebarOpen:n.setIsSidebarOpen}));return o.jsxs("div",{className:"crayon-shell-mobile-header",children:[o.jsx(C,{size:"medium",icon:o.jsx(pe,{size:"1em"}),onClick:()=>r(!0),variant:"secondary"}),o.jsxs("div",{className:"crayon-shell-mobile-header-logo-container",children:[o.jsx("img",{className:"crayon-shell-mobile-header-logo",src:e,alt:"Logo"}),o.jsx("div",{children:s})]}),o.jsx(C,{size:"medium",icon:o.jsx(F,{size:"1em"}),onClick:t,variant:"secondary"})]})};Z.__docgenInfo={description:"",methods:[],displayName:"MobileHeader"};const K=()=>{const{switchToNewThread:t}=M();return o.jsx(Ae,{className:"crayon-shell-new-chat-button",iconRight:o.jsx(F,{}),onClick:t,children:"New Chat"})};K.__docgenInfo={description:"",methods:[],displayName:"NewChatButton"};const J=({children:t})=>{const{isSidebarOpen:e,setIsSidebarOpen:s}=T(n=>({isSidebarOpen:n.isSidebarOpen,setIsSidebarOpen:n.setIsSidebarOpen})),{isMobile:r}=je()||{};return c.useEffect(()=>{s(!r)},[r]),o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{className:m("crayon-shell-sidebar-container__overlay",{"crayon-shell-sidebar-container__overlay--collapsed":!e}),onClick:()=>{s(!1)}}),o.jsx("div",{className:m("crayon-shell-sidebar-container",{"crayon-shell-sidebar-container--collapsed":!e}),children:t})]})},$=()=>{const{agentName:t,logoUrl:e,setIsSidebarOpen:s,isSidebarOpen:r}=T(n=>({agentName:n.agentName,logoUrl:n.logoUrl,setIsSidebarOpen:n.setIsSidebarOpen,isSidebarOpen:n.isSidebarOpen}));return o.jsxs("div",{className:"crayon-shell-sidebar-header",children:[o.jsx("img",{src:e,alt:t,className:"crayon-shell-sidebar-header__logo"}),o.jsx("div",{className:"crayon-shell-sidebar-header__agent-name",children:t}),o.jsx(C,{icon:r?o.jsx(ge,{size:"1em"}):o.jsx(me,{size:"1em"}),onClick:()=>{s(!r)},size:"large",variant:"secondary",className:"crayon-shell-sidebar-header__toggle-button"})]})},ee=({children:t})=>{const{isSidebarOpen:e}=T(s=>({isSidebarOpen:s.isSidebarOpen}));return e?o.jsx("div",{className:"crayon-shell-sidebar-content",children:t}):null},te=()=>o.jsx("div",{className:"crayon-shell-sidebar-separator"});J.__docgenInfo={description:"",methods:[],displayName:"SidebarContainer",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};$.__docgenInfo={description:"",methods:[],displayName:"SidebarHeader"};ee.__docgenInfo={description:"",methods:[],displayName:"SidebarContent",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};te.__docgenInfo={description:"",methods:[],displayName:"SidebarSeparator"};const ke=()=>{const[t,e]=c.useState("");return{textContent:t,setTextContent:e}},ze=(t,e)=>{c.useEffect(()=>{const s=t.current;!s||!e||s.scrollTo({top:s.scrollHeight,behavior:"smooth"})},[t,e])},se=({children:t,className:e})=>o.jsx("div",{className:m("crayon-shell-thread-container",e),children:t}),re=({children:t,className:e})=>{const s=c.useRef(null),{messages:r}=R();return ze(s,JSON.stringify(r[r.length-1])),o.jsx("div",{ref:s,className:m("crayon-shell-thread-scroll-area",e),children:t})},ne=({className:t})=>{const{messages:e}=R();return o.jsx("div",{className:m("crayon-shell-thread-messages",t),children:e.map(s=>o.jsx(ie,{message:s},s.id))})},Fe=()=>o.jsx("div",{children:"Unable to render the response"}),ae=({children:t,className:e})=>{const{logoUrl:s}=T(r=>({logoUrl:r.logoUrl}));return o.jsxs("div",{className:m("crayon-shell-thread-message-assistant",e),children:[o.jsx("img",{src:s,alt:"Assistant",className:"crayon-shell-thread-message-assistant__logo"}),o.jsx("div",{className:m({"crayon-shell-thread-message-assistant__text":typeof t=="string"}),children:t})]})},oe=({children:t,className:e})=>o.jsx("div",{className:m("crayon-shell-thread-message-user",e),children:o.jsx("div",{className:"crayon-shell-thread-message-user__content",children:t})}),ie=({message:t,className:e})=>{var n;const s=Me(a=>a.responseTemplates),r=t.role==="user"?oe:ae;if(t.role==="assistant"&&t.responseTemplate){const a=s[t.responseTemplate.name],i=((n=s.fallback)==null?void 0:n.Component)||Fe;return o.jsx(r,{className:e,children:a?o.jsx(a.Component,{...t.responseTemplate.templateProps}):o.jsx(i,{...t.responseTemplate.templateProps})})}return o.jsx(r,{children:t.message})},ce=({className:t})=>{const{textContent:e,setTextContent:s}=ke(),{processMessage:r}=xe(),{isRunning:n}=R(),a=()=>{!e.trim()||n||(r({role:"user",message:e}),s(""))};return o.jsx("div",{className:m("crayon-shell-thread-composer",t),children:o.jsxs("div",{className:"crayon-shell-thread-composer__input-wrapper",children:[o.jsx("textarea",{value:e,onChange:i=>s(i.target.value),className:"crayon-shell-thread-composer__input",placeholder:"Type your message...",onKeyDown:i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),a())}}),o.jsx(C,{onClick:a,icon:n?o.jsx(fe,{size:"1em",fill:"currentColor"}):o.jsx(ue,{size:"1em"})})]})})};se.__docgenInfo={description:"",methods:[],displayName:"ThreadContainer",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};re.__docgenInfo={description:"",methods:[],displayName:"ScrollArea",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};ne.__docgenInfo={description:"",methods:[],displayName:"Messages",props:{className:{required:!1,tsType:{name:"string"},description:""}}};ae.__docgenInfo={description:"",methods:[],displayName:"AssistantMessageContainer",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};oe.__docgenInfo={description:"",methods:[],displayName:"UserMessageContainer",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};ie.__docgenInfo={description:"",methods:[],displayName:"RenderMessage",props:{message:{required:!0,tsType:{name:"Message"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};ce.__docgenInfo={description:"",methods:[],displayName:"Composer",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const de=({className:t})=>{let{threads:e}=q();const{load:s}=M();c.useEffect(()=>{s()},[]);const n=(()=>{const i=new Date,d=new Date(i.getFullYear(),i.getMonth(),i.getDate()),h=new Date(d);h.setDate(h.getDate()-1);const A=new Date(d);A.setDate(A.getDate()-7);const f=new Date(d);f.setDate(f.getDate()-30);const p=new Date(d);return p.setMonth(0,1),e.reduce((u,g)=>{const b=new Date(g.createdAt);return b>=d?u.today=[...u.today||[],g]:b>=h?u.yesterday=[...u.yesterday||[],g]:b>=A?u.last7Days=[...u.last7Days||[],g]:b>=f?u.last30Days=[...u.last30Days||[],g]:b>=p?u.thisYear=[...u.thisYear||[],g]:u.older=[...u.older||[],g],u},{today:[],yesterday:[],last7Days:[],last30Days:[],thisYear:[],older:[]})})(),a={today:"Today",yesterday:"Yesterday",last7Days:"Previous 7 Days",last30Days:"Previous 30 Days",thisYear:"This Year",older:"Older"};return o.jsx("div",{className:m("crayon-shell-thread-list",t),children:Object.entries(n).filter(([i,d])=>d.length>0).map(([i,d])=>o.jsxs(c.Fragment,{children:[o.jsx("div",{className:"crayon-shell-thread-list-group",children:a[i]}),d.map(h=>o.jsx(le,{id:h.threadId,title:h.title},h.threadId))]},i))})},le=({id:t,title:e,className:s})=>{const{selectThread:r}=M(),{selectedThreadId:n}=q();return o.jsx("button",{onClick:()=>r(t),className:m("crayon-shell-thread-button",{"crayon-shell-thread-button--selected":n===t},s),children:e})};de.__docgenInfo={description:"",methods:[],displayName:"ThreadList",props:{className:{required:!1,tsType:{name:"string"},description:""}}};le.__docgenInfo={description:"",methods:[],displayName:"ThreadButton",props:{id:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const Pe="data:image/jpeg;base64,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",et={title:"Shell"},x={render:()=>{const t=Re({fetchThreadList:async()=>(await new Promise(s=>setTimeout(s,1e3)),[{threadId:"1",title:"test",createdAt:new Date,isRunning:!1},{threadId:"2",title:"test 2",createdAt:new Date,isRunning:!1},{threadId:"3",title:"test 3",createdAt:new Date,isRunning:!1}]),deleteThread:async()=>{},updateThread:async s=>s,onSwitchToNew:()=>{},onSelectThread:()=>{}}),e=Ne({threadId:t.selectedThreadId,loadThread:async()=>[{id:crypto.randomUUID(),role:"user",type:"prompt",message:"Hello"},{id:crypto.randomUUID(),role:"assistant",type:"response",message:"Hello"}],onProcessMessage:async({message:s,threadManager:r,abortController:n})=>[Object.assign({},s,{id:crypto.randomUUID()}),{id:crypto.randomUUID(),role:"assistant",type:"response",message:"sadfasdf"}],responseTemplates:[]});return o.jsx(W,{threadListManager:t,threadManager:e,children:o.jsxs(G,{logoUrl:Pe,agentName:"Crayon",children:[o.jsxs(J,{children:[o.jsx($,{}),o.jsxs(ee,{children:[o.jsx(K,{}),o.jsx(te,{}),o.jsx(de,{})]})]}),o.jsxs(se,{children:[o.jsx(Z,{}),o.jsx(re,{children:o.jsx(ne,{})}),o.jsx(ce,{})]})]})})}};var Y,k,z;x.parameters={...x.parameters,docs:{...(Y=x.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  render: () => {
    const threadListManager = useThreadListManager({
      fetchThreadList: async () => {
        await new Promise(resolve => setTimeout(resolve, 1000));
        return [{
          threadId: "1",
          title: "test",
          createdAt: new Date(),
          isRunning: false
        }, {
          threadId: "2",
          title: "test 2",
          createdAt: new Date(),
          isRunning: false
        }, {
          threadId: "3",
          title: "test 3",
          createdAt: new Date(),
          isRunning: false
        }];
      },
      deleteThread: async () => {},
      updateThread: async t => t,
      onSwitchToNew: () => {},
      onSelectThread: () => {}
    });
    const threadManager = useThreadManager({
      threadId: threadListManager.selectedThreadId,
      loadThread: async () => {
        return [{
          id: crypto.randomUUID(),
          role: "user",
          type: "prompt",
          message: "Hello"
        }, {
          id: crypto.randomUUID(),
          role: "assistant",
          type: "response",
          message: "Hello"
        }];
      },
      onProcessMessage: async ({
        message,
        threadManager,
        abortController
      }) => {
        const newMessage = Object.assign({}, message, {
          id: crypto.randomUUID()
        }) as Message;
        return [newMessage, {
          id: crypto.randomUUID(),
          role: "assistant",
          type: "response",
          message: "sadfasdf"
        }];
      },
      responseTemplates: []
    });
    return <ChatProvider threadListManager={threadListManager} threadManager={threadManager}>
        <Container logoUrl={logoUrl} agentName="Crayon">
          <SidebarContainer>
            <SidebarHeader />
            <SidebarContent>
              <NewChatButton />
              <SidebarSeparator />
              <ThreadList />
            </SidebarContent>
          </SidebarContainer>
          <ThreadContainer>
            <MobileHeader />
            <ScrollArea>
              <Messages />
            </ScrollArea>
            <Composer />
          </ThreadContainer>
        </Container>
      </ChatProvider>;
  }
}`,...(z=(k=x.parameters)==null?void 0:k.docs)==null?void 0:z.source}}};const tt=["Default"];export{x as Default,tt as __namedExportsOrder,et as default};
